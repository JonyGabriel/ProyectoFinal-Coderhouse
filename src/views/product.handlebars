<main>
  <div class="homeButton">
			<a href="/products">
				<img class="iconChat" src="https://www.svgrepo.com/show/533593/arrow-left.svg" alt="" width="64px" height="64px">
			</a>
  	</div>
  <div class="buy-container">
    <div class="buy-section-container">
        <h1 class="prod-buy">{{title}}</h1>
          <h2 class="prod-buy">Category: {{category}}</h2>
            <p class="prod-buy">{{description}}</p>
          <h2 class="prod-buy">Stock: {{stock}}</h2>
        <h3 class="prod-buy">Price: ${{price}}</h3>
      <button class="buy-button" id="{{_id}}">Buy</button>
    </div>
  </div>
</main>
<script>
  document.querySelector(".buy-button").addEventListener("click", async (e) => {
    if ("{{_id}}") {
      await fetch(`/api/carts/{{user.cart}}/product/{{_id}}`, {method: "PUT", headers: {"Content-Type": "application/json"}, body: JSON.stringify({quantity: 1})})
      window.location.replace("/products")
    }
    else {
      await fetch(`/api/carts/{{user.cart}}/product/{{id}}`, {method: "PUT", headers: {"Content-Type": "application/json"}, body: JSON.stringify({quantity: 1})})
      window.location.replace("/products")
    }
  })
</script>
<style>
  main {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  .buy-button {
    text-decoration: none;
    color: #fff;
    padding: 10px;
    background-color: rgb(11, 134, 21);
  }
</style>
<footer class="fixFooter">
	Copyright Â©CompuSV
</footer>